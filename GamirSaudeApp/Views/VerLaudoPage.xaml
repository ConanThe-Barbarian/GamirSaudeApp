<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:GamirSaudeApp.ViewModels"
             x:Class="GamirSaudeApp.Views.VerLaudoPage"
             x:DataType="viewmodels:VerLaudoViewModel"
             Shell.NavBarIsVisible="False"
             NavigationPage.HasNavigationBar="False"
             BackgroundColor="#F5F5F5">

    <Grid RowDefinitions="80, *">

        <Grid Grid.Row="0" BackgroundColor="#0098DA" Padding="20,10,20,0">
            <Grid ColumnDefinitions="Auto, *">
                <ImageButton Grid.Column="0" 
                             HeightRequest="30" WidthRequest="30" 
                             HorizontalOptions="Start" VerticalOptions="Center" 
                             Command="{Binding VoltarCommand}" 
                             BackgroundColor="Transparent">
                    <ImageButton.Source>
                        <FontImageSource Glyph="&lt;" Color="White" Size="35"/>
                    </ImageButton.Source>
                </ImageButton>

                <Label Grid.Column="1" Text="Detalhes do Laudo" TextColor="White" 
                       FontSize="20" FontAttributes="Bold" 
                       HorizontalOptions="Center" VerticalOptions="Center" 
                       Margin="-30,0,0,0"/>
            </Grid>
        </Grid>

        <ScrollView Grid.Row="1" Padding="20">
            <VerticalStackLayout Spacing="20">

                <Border StrokeShape="RoundRectangle 15" StrokeThickness="0" BackgroundColor="White" Padding="20">
                    <Border.Shadow>
                        <Shadow Brush="Black" Opacity="0.05" Radius="5" Offset="0,2"/>
                    </Border.Shadow>

                    <VerticalStackLayout Spacing="15">

                        <VerticalStackLayout Spacing="5">
                            <Label Text="Exame" TextColor="#999999" FontSize="12"/>
                            <Label Text="{Binding NomeExame}" TextColor="#0098DA" FontSize="22" FontAttributes="Bold"/>
                        </VerticalStackLayout>

                        <BoxView HeightRequest="1" Color="#EEEEEE"/>

                        <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" RowSpacing="15">

                            <VerticalStackLayout Grid.Row="0" Grid.Column="0" Spacing="2">
                                <Label Text="Médico/Local" TextColor="#999999" FontSize="12"/>
                                <Label Text="{Binding NomeMedico}" TextColor="#333333" FontAttributes="Bold"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Grid.Row="0" Grid.Column="1" Spacing="2">
                                <Label Text="Especialidade" TextColor="#999999" FontSize="12"/>
                                <Label Text="{Binding Especialidade}" TextColor="#333333" FontAttributes="Bold"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Grid.Row="1" Grid.Column="0" Spacing="2">
                                <Label Text="Data Realização" TextColor="#999999" FontSize="12"/>
                                <Label Text="{Binding DataExame, StringFormat='{0:dd/MM/yyyy}'}" TextColor="#333333" FontAttributes="Bold"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Grid.Row="1" Grid.Column="1" Spacing="2">
                                <Label Text="Status" TextColor="#999999" FontSize="12"/>
                                <Border BackgroundColor="{Binding CorStatus}" StrokeThickness="0" StrokeShape="RoundRectangle 5" HorizontalOptions="Start" Padding="10,4">
                                    <Label Text="{Binding Status}" TextColor="White" FontSize="12" FontAttributes="Bold"/>
                                </Border>
                            </VerticalStackLayout>
                        </Grid>

                    </VerticalStackLayout>
                </Border>

                <Grid ColumnDefinitions="*,*" ColumnSpacing="15" Margin="0,10,0,0">

                    <Button Grid.Column="0" 
                            Text="Baixar PDF" 
                            Command="{Binding BaixarPdfCommand}"
                            BackgroundColor="#0098DA" 
                            TextColor="White" 
                            HeightRequest="50" 
                            CornerRadius="25" 
                            FontAttributes="Bold"/>

                    <Button Grid.Column="1" 
                            Text="Compartilhar" 
                            Command="{Binding CompartilharCommand}"
                            BackgroundColor="White" 
                            TextColor="#0098DA" 
                            BorderColor="#0098DA" 
                            BorderWidth="1"
                            HeightRequest="50" 
                            CornerRadius="25" 
                            FontAttributes="Bold"/>
                </Grid>

            </VerticalStackLayout>
        </ScrollView>

    </Grid>
</ContentPage>